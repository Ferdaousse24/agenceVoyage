<mat-tab-group [(selectedIndex)]="selectedIndex" (selectedTabChange)="onTabChange($event)">
  <mat-tab class="styleLabel" label="1-  Réservation">
    <div class="search-filter">
      <form (ngSubmit)="onSubmit()" #flightForm="ngForm">
        <div class="form-row">
          <div class="form-group">
            <label for="departure">Depuis</label>
            <mat-form-field>
              <input type="text" placeholder="Search" matInput [formControl]="departureControl" [matAutocomplete]="auto" name="departure" id="depart" required>
              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onDepartureSelected($event)">
                <mat-option *ngFor="let city of filteredOptions | async" [value]="city.name">
                  {{ city.name }}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>

          <div class="form-group">
            <label for="destination">Vers</label>
            <mat-form-field>
              <input type="text" placeholder="Search" matInput [formControl]="destinationControl" [matAutocomplete]="autoDest" name="destination" id="destination" required>
              <mat-autocomplete #autoDest="matAutocomplete" (optionSelected)="onDestinationSelected($event)">
                <mat-option *ngFor="let city of filteredDestinationOptions | async" [value]="city.name">
                  {{ city.name }}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>      

          <div class="form-group trip-type">
            <label>
              <input type="radio" [(ngModel)]="tripType" name="tripType" value="one-way" (change)="onTripTypeChange()" required>
              Aller simple
            </label>
            <label>
              <input type="radio" [(ngModel)]="tripType" name="tripType" value="round-trip" (change)="onTripTypeChange()" required>
              Aller-Retour
            </label>
          </div>
        </div>

        <div *ngIf="showAdditionalFields">
          <div class="form-row">
            <div class="form-group">
              <label for="departureDate">Date de départ *</label>
              <input type="date" id="departureDate" class="form-control" [(ngModel)]="departureDate" name="departureDate" [min]="today" required>
            </div>

            <div class="form-group">
              <label for="returnDate">Date d'arrivée *</label>
              <input type="date" id="returnDate" class="form-control" [(ngModel)]="returnDate" name="returnDate" [disabled]="tripType === 'one-way'" [min]="departureDate" required>
            </div>

            <div class="form-group">
              <label for="adults">Nombre d'adultes *</label>
              <input type="number" id="adults" class="form-control" [(ngModel)]="adults" name="adults" min="1" required>
            </div>

            <div class="form-group">
              <label for="children">Nombre d'enfants</label>
              <input type="number" id="children" class="form-control" [(ngModel)]="children" name="children" min="0" required>
            </div>
          </div>
        </div>

        <div class="form-row">
          <button *ngIf="showAdditionalFields" type="button" class="btn btn-secondary reduce-btn" (click)="toggleFields()">
            <i class="fas fa-chevron-up"></i> Réduire
          </button>
          <button type="submit" class="btn btn-primary" [disabled]="!flightForm.valid">Réserver maintenant</button>
        </div>
      </form>
    </div>
  </mat-tab>
  <mat-tab class="styleLabel" label="2-  Choisir le vol" [disabled]="!isTab2Enabled">
    <!-- Content for flight selection -->
    <div class="search-filter">
      <!-- Contenu pour choisir le vol -->
      <p id="flight-details">
        <strong>Départ:</strong> {{ departure }}<br>
        <strong>Destination:</strong> {{ destination }}<br>
        <strong>Date de départ:</strong> {{ departureDate }}<br>
        <strong>Date de retour:</strong> {{ tripType === 'round-trip' ? returnDate : 'N/A' }}<br>
        <strong>Nombre d'adultes:</strong> {{ adults }}<br>
        <strong>Nombre d'enfants:</strong> {{ children }}
      </p>
    </div>
  </mat-tab>
  <mat-tab class="styleLabel" label="3-  Information voyageur" [disabled]="true">
    <!-- Content for traveler information -->
    <div class="search-filter">
      <!-- Votre contenu pour les informations voyageur -->
      Contenu pour les informations voyageur.
    </div>
  </mat-tab>
  <mat-tab class="styleLabel" label="4-  Paiement" [disabled]="true">
    <!-- Content for payment -->
    <div class="search-filter">
      <!-- Votre contenu pour le paiement -->
      Contenu pour le paiement.
    </div>
  </mat-tab>
</mat-tab-group>
